@using MediatR
@using Minerva.Application.Features.TaskItems

@rendermode InteractiveServer

@inject IMediator mediator

@if (!string.IsNullOrEmpty(Title))
{
    <FluentLabel Typo="Typography.H3">@Title</FluentLabel>
}
<FluentStack Orientation="Orientation.Vertical">
    @if (TaskItems == null)
    {
        <FluentLabel Typo="Typography.H4">Loading...</FluentLabel>
    }
    else
    {
        @for (var ix = 0; ix < TaskItems.Count; ix++)
        {
            var item = TaskItems[ix];
            <TaskItemListEntry Item="item" OnItemChanged="OnItemChanged"></TaskItemListEntry>
        }
    }

</FluentStack>

@code {
    [Parameter]
    public IList<TaskItemListItemModel>? TaskItems { get; set; }

    [Parameter]
    public Action<TaskItemListItemModel>? OnItemChanged { get; set; }

    [Parameter]
    public string? Title { get; set; }


}
